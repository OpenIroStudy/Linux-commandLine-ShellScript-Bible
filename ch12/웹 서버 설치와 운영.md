# APM 설치와 웹 사이트 구축
APM은 Apache, PHP, MariaDB 이 세 가지가 서로 잘 연동되어 운영되도록 만든 환경을 APM이라고 한다.

![image](https://user-images.githubusercontent.com/82895809/195068467-4a84db29-09ef-4662-a979-e53d1063d29f.png)
```
dnf -y install httpd php php-mysqlnd mariadb-server
```

![image](https://user-images.githubusercontent.com/82895809/195068567-a5660398-379a-4fe7-a951-3c34412e5a65.png)

```
rpm -qa 패키지이름
```
설치 버전 확인.

```
systemctl status httpd
systemctl start httpd
systemctl enable httpd
```
httpd 서비스의 현재 작동 상태를 확인하고 활성화시킨다.
enable 명령을 입력해 서비스를 상시 작동되도록 설정

php는 별도의 서비스가 아니라 httpd에 포함된 기능이므로 별로도 가동하지 않아도 된다.

![image](https://user-images.githubusercontent.com/82895809/195068987-42e0ff47-d980-49c6-939a-4d8fd1d59fdb.png)

```
vi /var/www/html/index.html
```

![image](https://user-images.githubusercontent.com/82895809/195072394-4caa87d0-8473-4fd8-9139-5ca10b7ffc24.png)

위와 같은 화면이 나오면 httpd(아파치) 서비스는 정상적으로 작동하는 것이다.

```
<?php   phpinfo();      ?>
```

![image](https://user-images.githubusercontent.com/82895809/195073286-58221958-fe79-4399-9a47-84b6d429d782.png)

웹 서버에 설치된 PHP정보를 보여준다.

위와 같은 화면이 나오면 PHP 모듈도 정상적으로 가동하는 것이다.


firewall-config 명령을 입력해 방화벽 설정을 실행한다.

![image](https://user-images.githubusercontent.com/82895809/195073678-736eec20-41a5-487f-9a75-7cee8c930f99.png)

http, https 체크를 켜서 웹 서버를 열어준다.

이제 httP://192.168.111.100/phpinfo.php 에 접속이 가능하다.

![image](https://user-images.githubusercontent.com/82895809/195073936-03a08f7a-91e2-4fe6-8654-b15184916e8f.png)

Server B에 APM 설치.

![image](https://user-images.githubusercontent.com/82895809/195074707-9a7e9a10-6b55-48ca-8cee-b551ab833630.png)

mariaDB에 접속해서 데이터베이스와 유저를 만든다.

![image](https://user-images.githubusercontent.com/82895809/195075144-01e515d2-3aa9-4ed6-be7e-28c620461e16.png)

```
wget https://ko.wordpress.org/wordpress-4.9.6-ko_KR.tar.gz
```
위 명령으로 워드프레스 다운.

다운로드 받은 파일의 압축을 풀고, 압축이 풀린 폴더를 /var/www/html 로 이동.

![image](https://user-images.githubusercontent.com/82895809/195075526-739835b6-d713-45db-86f6-a2ddb88002f2.png)

chmod 707 wordpress 명령으로 외부에서 이 디렉터리로 접근할 수 있도록 변경.

