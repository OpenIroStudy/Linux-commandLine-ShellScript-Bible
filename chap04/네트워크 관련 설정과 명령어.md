## 네트워크 관련 필수 개념
#### TCP/IP 
TCP/IP(Transmission Control Protocol/Internet Protocol)는 데이터가 의도된 목적지에 닿을 수 있도록 보장해주는 통신 규약  

![image](https://user-images.githubusercontent.com/67637716/188315208-3e5d2d85-4b75-4af3-bb45-2a15119e5883.png)  

#### 호스트이름과 도메인 이름
호스트 이름은 각 컴퓨터에 지정된 이름  
도메인 이름은 hanbit.co.kr과 같은 형식으로 표기, kr은 한국, co는 회사, hanbit은 단체/회사 이름을 의미.  
호스트 이름이 this이고 도메인이름이 hanbit.co.kr이라면 전체이름은 this.hanbit.co.kr로 붙이는데 이걸 FQDN(Fully Qualified Domain Name)이라함.  

![image](https://user-images.githubusercontent.com/67637716/188315386-7994006f-8457-4492-bd56-70d73fea704b.png)  

#### IP주소
Lan Card에 부여되며 중복되지 않는 유일한 주소.  
특정 컴퓨터의 ip주소를 알면 어디에 있든지 접속할 수 있다.  
4바이트로 이루어져 있으며 각 자리는 0~255까지 올수 있다.  

#### 네트워크 주소
같은 네트워크에 속해 있는 공통 주소.  
Server ip주소 : 192.168.111.100  
Server(B) ip 주소 : 192.168.111.200  
Client : 192.168.111.131  
이므로 공통된 네트워크 주소는 192.168.111.0이 된다.  

<br>
사설 네트워크 : 192.168.xxx.xxx의 주소는 사설 네트워크 주소.,  외부와 분리된 내부의 별도 네트워크를 의미, 공인 ip주소 부족으로 많이 사용  


#### 브로드캐스트 주소  
내부 네트워크의 모든 컴퓨터가 수신하는 주소.  
현재 주소의 제일 끝자리를 255로 바꾼 주소(C클래스일 경우)  

#### Router & Gateway
라우터(Router)는 이름 그대로 네트워크와 네트워크 간의 경로(Route)를 설정하고 가장 빠른 길로 트래픽을 이끌어주는 네트워크 장비  
NAT(Network Address Translation), 방화벽, VPN(Virtual Private Network), QoS(Quality of Service)등 다양한 부가 기능을 함께 제공  

게이트웨이는 이종 프로토콜 및 네트워크 간에 통신을 가능하게 하며 다른 네트워크로 들어가는 문 역할을 하는 네트워크 포인트.  
또한 하나 이상의 프로토콜을 사용하는 측면에서는 라우터와 다르다는 차이점을 가지고 있다.  
라우터 : device, 게이트웨이 : 소프트웨어 개념.  


노드에서 전송을 할 때 게이트웨이의 주소에 전송->라우터가 그 패킷을 받아서 다른곳으로 라우팅을 해줌  

일반적으로 게이트웨이는 `192.168.xxx.1` 주소를 가지고 있다.  
인터넷과 연결되려면 ip, subnet address, gateway address 필수!  

#### 넷마스크(Netmask)
네트워크의 규모를 결정.  
A 클래스 (0 ~ 126) : 255.0.0.0  
B 클래스 (128 ~ 191) : 255.255.0.0  
C 클래스 (192 ~ 223) : 255.255.255.0  
서브넷 마스크란 네트워크 주소를 분할해서 사용하지 않는 HOST규모를 조절하는 것.  

#### DNS 서버 주소
www.duam.net과 같은 URL을 해당 컴퓨터의 IP주소로 변환해주는 서버 컴퓨터.  
DNS(Domain Name Server)서버의 주소를 사용하지 않으면 웹사이트에 정상적으로 접속 x!  

설정파일은 `/etc/resolv.conf` 이며 nameserver DNS서버IP 형식으로 설정됨.  
![image](https://user-images.githubusercontent.com/67637716/188316750-77ef8b11-3f04-435b-87d5-f9c5c5626bff.png)  


## 리눅스에서의 네트워크 장치 이름
NIC(랜카드)가 리눅스에 장착되었을 때 CentOS를 설치하면 자동으로 이 장치의 이름을 설정해줌.(ex : enp0s3)  
이 랜카드의 이름은 네트워크 정보를 파악하거나 네트워크 정지 또는 가동할 때 자주 사용.  
네트워크 설정 파일  
![image](https://user-images.githubusercontent.com/67637716/188316927-b5d9805e-20e9-4222-8ebb-bf5a350854e1.png)  

## 중요한 네트워크 관련 명령어  
* nmtui : gui모드에서 사용 ( cli에서는 ifcfg-enp0s3 ) 파일을 편집하여 네트워크를 설정한다. 
* systemctl start/stop/restart/status NetworkManager
    *  네트워크 설정을 변경한 후 변경된 내용을 시스템에 적용시키는 명령어.
    *  ifcfg-enp0s3파일을 편집한 후에는 꼭 `systemctl restart NetworkManager`명령을 실행해야한다.  
* ifup 장치 이름 : 해당 장치를 작동시키는 명령어
* ifdown 장치 이름 : 네트워크 장치를 끄는 명령어
* nslookup : dns 서버의 작동을 테스트하는 명령어, 도메인 주소를 입력하면 ip주소가 나옴.  
![image](https://user-images.githubusercontent.com/67637716/188318575-0b8e143d-508d-4798-b740-ed86f694b51f.png)  
* ping ip 또는 url : 해당 컴퓨터가 네트워크상에서 응답하는지 테스트하는 간편한 명령어

## 네트워크 설정과 관련된 주요 파일
#### /etc/sysconfig/network
네트워크의 기본 정보가 설정되어 있는 파일이며 네트워크 사용 여부가 써 있다.  

#### /etc/sysconfig/network-scripts/ifcfg-enp0s3
enp0s3장치에 설정된 네트워크 정보가 모두 들어가 있는 파일.  
![image](https://user-images.githubusercontent.com/67637716/188318819-b89ad49d-bd2e-4087-8cd2-0bc2884f1689.png)  

####  /etc/resolv.conf
DNS 서버의 정보와 호스트 이름이 들어 있는 파일
``` 
# Generated by NetworkManager
nameserver 8.8.8.8
```  

DNS 서버 역할!!  
www.naver.com을 입력하면 바로 네이버 홈페이지로 접속되는 것이 아니라  
/etc/resolv.conf파일에 설정된 DNS서버에게 www.naver.com URL의 IP주소를 물어본다.  
DNS서버가 해당 URL에 해당하는 IP주소를 알려주면 그때서야 알아낸 IP주소의 컴퓨터로 접속하는것!  

![image](https://user-images.githubusercontent.com/67637716/188319100-ab83ecf6-c370-4ed6-966d-72409b42e490.png)  
nslookup 명령후 server를 입력하면 현재 설정된 dns 서버 주소를 알 수 있다.  

server 새로운 DNS서버 IP주소 명령을 입력하면 DNS 서버 주소 변경 가능.  
ip주소, 게이트웨이 주소 등의 정보를 변경하면 NetworkManager 를 restart해주어야 하지만 /etc/resolv.conf 파일은 수정한 이후에도 NetworkManager restart를 할 필요 xxxx  
nslookup명령을 통해 url을 조회할 경우 실시간으로 /etc/resolv.conf 파일을 열어서 확인하기 때문  


#### /etc/hosts
현재 컴퓨터의 호스트 이름과 FQDN이 들어가 있는 파일  
![image](https://user-images.githubusercontent.com/67637716/188318873-e314812d-85bf-40c8-be15-5a4a9959e5e3.png)  


## 네트워크 보안을 위한 SELinux
SELinux(Security Enhanced Linux)는 보안에 취약한 리눅스를 보호하기 위해 탄생.  
시스템에서 보안에 영향을 미치는 서비스, 권한 등을 제어.  
SELinux 환경에서는 해커가 어떤 경로로 시스템 침입에 성공하든, 침입한 경로의 애플리케이션 사용 이상의 권한을 얻지 못한다. (ex : 수정 불가)  
설정 파일은 `/etc/sysconfig/selinux` 파일  
![image](https://user-images.githubusercontent.com/67637716/188319316-2f51f3a2-e063-4390-9283-aa5455ae1aee.png)  

![image](https://user-images.githubusercontent.com/67637716/188319376-5f95a096-e8c1-4131-bb5f-803dab61e87f.png)  



















