<h1>방화벽 컴퓨터 만들기 </h1>

<br><br> 
내뷰의 사용자는 외부의 인터넷을 이용할 수 있지만 외부에서는 내부로 침입할 수 없게 하는 방법이 필요해졌다. <br> 
사설 IP라고 불리는 nonroutable IP 주소를 이용 <br> 
이 방법은 내부 컴퓨터 사이의 트래픽은 하용하면서 외부 인터넷과의 접속은 허용 또는 제한할 수 있는 쉽고 좋은 방법이다. <br> 
이 사설 IP의 주소 범위는 10.0.0.0 ~ 10.255.255.255 ,  172.16.0.0 ~ 172.31.255.255, 192.168.0.0 ~ 192.168.255.255의 3가지가 있다. <br> 
외부의 컴퓨터는 이 주소 범위에 있는 컴퓨터에 접근할 수 없게 된다. <br> 
하지만 이 주소의 컴퓨터 또한 외부 인터넷으로 나갈 수가 없다. 그래서 사설 IP 주소의 컴퓨터가 외부 인터넷에 접속할 수 있도록 해주는 IP 마스커레이딩(Masquerading)이라는 방법을 활용한다. <br> 
![image](https://user-images.githubusercontent.com/43237961/196317161-f1bec490-2cb1-4d59-b1a3-1b6cc2aebe22.png) <br> 

1. 사설 네트워크는 회사의 내부라고 생각하면 된다. 그림에는 2대 뿐이지만 실무에서는 더 많은 컴퓨터가 있을 것이다. 
2. 외부 네트워크는 특정 컴퓨터가 아닌 인터넷상의 모든 컴퓨터라고 생각하면 된다. 
3. 방화벽 컴퓨터에는 2개의 네트워크 카드가 설치되어 있어야 한다. 내부의 사설 네트워크에 연결될 네트워크 카드, 하나는 외부의 인터넷과 연결될 네트워크 카드다. 
4. 허브는 내부에 있는 여러 대의 컴퓨터와 방화벽을 연결하는 장치다. 내부의 컴퓨터가 1대 뿐이라면 허브는 없어도 될 것이다. 실무에서는 주로 성능이 좋고 고가인 스위칭 허브를 많이 사용한다. 

<h1> 작동원리 </h1> 
1. 사설 네트워크 안의 컴퓨터들은 외부의 인터넷에 접속할 수 있어야 한다. 사설 네트워크안에 있는 컴퓨터들의 네트워크 정보 중, 게이트웨이 주소는 방화벽 컴퓨터의 [사설 IP3]으로 지정되어 있어야 한다. 그래야만 게이트웨이를 통해 외부의 인터넷에 접속할 수 있다. <br>
만약 리눅스 클라이언트가 방화벽 컴퓨터를 통해 외부 네트워크 공인 IP2의 WINDOWS 컴퓨터에 접속했다면, 외부의 WINDOWS 컴퓨터 입장에서는 리눅스 클라이언트의 사설 IP1이 접근했다는 사실을 알지 못하며, 단지 방화벽 컴퓨터의 [공인 IP 1]로 접속되었다는 사실만 알 수 있다. 결론적으로 사설 네트워크의 모든 컴퓨터가 외부 인터넷을 사용할 때는 방화벽의 공인 IP1을 사용하게 된다. 이러한 것을 마스커레이딩이라고 부른다. <br>  
<br>  

```java

IP Masquerade(또는 MASQ, IPMASQ)란 리눅스의 NAT(Network Address Translation) 기능으로써 내부 컴퓨터들이 리눅스 서버를 통해서 인터넷 등 다른 네트워크에 접속할 수 있도록 해주는 기능입니다.

내부 컴퓨터들이 생성한 모든 네트워크 요청은 MASQ를 통해서 리눅스 서버의 외부 공인IP로 변환되어 인터넷에 연결되기 때문에, 외부에서는 리눅스 서버의 IP만 알 수 있을 뿐, 내부 컴퓨터의 존재를 전혀 알 수 없습니다. 이는 높은 보안성이라는 장점을 제공하지만, 반면에 외부에서 먼저 내부컴퓨터와 통신을 시도할 수 없기 때문에 상당한 제약으로 작용할 수 있습니다.

이러한 제약은 포워딩(iptable 이용)을 통해서 해소할 수 있습니다. 즉, 외부에서 특정 포트나 프로토콜로 리눅스 서버에 요청할 경우 지정한 내부 컴퓨터로 연결하도록 규칙을 지정 수 있습니다.
```
<br> 
3. 
